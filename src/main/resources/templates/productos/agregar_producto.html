<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="layout/layout-admin :: head"></head>
<body>

    <nav th:replace="layout/layout-admin :: navbar"></nav>
    <div class="container">
    <main layout:fragment="contenido">
        <div class="col-12">
            <h2>Agregar producto</h2>
            
            <form th:object="${producto}" th:action="@{/productos/agregar}" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="nombre">Nombre del producto</label>
                    <input autocomplete="off" autofocus th:field="*{nombre}" id="nombre"
                        placeholder="Escribe el nombre del producto" type="text" class="form-control"
                        th:classappend="${#fields.hasErrors('nombre')} ? 'is-invalid' : ''">
                    <div class="invalid-feedback" th:errors="*{nombre}"></div>
                </div>
                <div class="form-group">
                    <label for="codigo">Código de barras</label>
                    <input autocomplete="off" th:field="*{codigo}" id="codigo"
                        placeholder="Escribe el código del producto, para su busqueda" type="text" class="form-control"
                        th:classappend="${#fields.hasErrors('codigo')} ? 'is-invalid' : ''">
                    <div class="invalid-feedback" th:errors="*{codigo}"></div>

                </div>

                <div class="form-group">
                    <label for="existencia">Existencia actual</label>
                    <input autocomplete="off" th:field="*{existencia}" id="existencia"
                        placeholder="Cantidad actual del producto" type="number" class="form-control"
                        th:classappend="${#fields.hasErrors('existencia')} ? 'is-invalid' : ''">
                    <div class="invalid-feedback" th:errors="*{existencia}"></div>

                </div>

                <div class="form-group">
                    <label for="existencia">Precio</label>
                    <input autocomplete="off" th:field="*{precio}" id="precio" placeholder="Precio del producto"
                        type="number" class="form-control"
                        th:classappend="${#fields.hasErrors('precio')} ? 'is-invalid' : ''">
                    <div class="invalid-feedback" th:errors="*{precio}"></div>
                    
                    <input type="hidden" id="total" name="total" th:value="0">

                    <input type="hidden" th:field="*{enable}" th:value="'0'">

                </div>

               <!-- <div class="form-group">
                    <label for="existencia">Precio Total</label>
                    <input autocomplete="off" id="total" name="total"
                        placeholder="Costo total del producto" type="number" class="form-control">
                </div> -->

                <div class="form-group">
                    <label for="file">Foto</label>
                    <input autocomplete="off" name="file" placeholder="Foto del producto" type="file"
                        class="form-control">
                </div>


                <button class="btn btn-success" type="submit">Guardar</button>
                &nbsp;<a class="btn btn-warning" th:href="@{/productos/mostrar}">Ver todos</a>
            </form>
        </div>
    </main>
</div>

    <footer th:replace="layout/layout-admin :: footer"></footer>
</body>

</html>